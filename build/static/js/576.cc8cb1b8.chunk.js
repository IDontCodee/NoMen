"use strict";(self.webpackChunksussy=self.webpackChunksussy||[]).push([[576],{3576:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});n(2791);var r=n(5266),s=n(4165),o=n(5861);function a(){return{data:document.cookie}}function c(){window.stores.ls=window.localStorage,window.stores.cookie=a()}function i(){return(i=(0,o.Z)((0,s.Z)().mark((function e(){var t,n,r,o,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.stores){e.next=6;break}return c(),e.next=4,u(r,o);case 4:e.next=41;break;case 6:return e.next=8,window.showDirectoryPicker({mode:"readwrite",startIn:"documents"});case 8:return t=e.sent,e.next=11,p(t);case 11:return n=e.sent,r=n.rawCookie,o=n.rawLs,e.next=16,r.getFile();case 16:return a=e.sent,e.next=19,o.getFile();case 19:return i=e.sent,e.t0=JSON,e.next=23,a.text();case 23:if(e.t1=e.sent,e.t1){e.next=26;break}e.t1="{}";case 26:return e.t2=e.t1,e.t3=e.t0.parse.call(e.t0,e.t2),e.t4=JSON,e.next=31,i.text();case 31:if(e.t5=e.sent,e.t5){e.next=34;break}e.t5="{}";case 34:return e.t6=e.t5,e.t7=e.t4.parse.call(e.t4,e.t6),window.stores={cookie:e.t3,ls:e.t7},c(),e.next=40,u(r,o);case 40:delete window.stores;case 41:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,o.Z)((0,s.Z)().mark((function e(){var t,n,r,o,a,c,i,l,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.showDirectoryPicker){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,window.showDirectoryPicker({mode:"readwrite",startIn:"documents"});case 4:return t=e.sent,e.next=7,p(t);case 7:return n=e.sent,r=n.rawCookie,o=n.rawLs,e.next=12,r.getFile();case 12:return a=e.sent,e.next=15,o.getFile();case 15:return c=e.sent,e.t0=JSON,e.next=19,a.text();case 19:if(e.t1=e.sent,e.t1){e.next=22;break}e.t1="{}";case 22:return e.t2=e.t1,e.t3=e.t0.parse.call(e.t0,e.t2),e.t4=JSON,e.next=27,c.text();case 27:if(e.t5=e.sent,e.t5){e.next=30;break}e.t5="{}";case 30:for(i in e.t6=e.t5,e.t7=e.t4.parse.call(e.t4,e.t6),window.stores={cookie:e.t3,ls:e.t7},Object.keys(stores.ls))l=stores.ls[i],console.log(i),console.log(l);for(u in Object.keys(stores.cookie));case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t){return d.apply(this,arguments)}function d(){return(d=(0,o.Z)((0,s.Z)().mark((function e(t,n){var r,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Saving..."),e.next=3,t.createWritable();case 3:return r=e.sent,e.next=6,n.createWritable();case 6:return o=e.sent,e.next=9,r.write(JSON.stringify(window.stores.cookie));case 9:return e.next=11,o.write(JSON.stringify(window.stores.ls));case 11:return e.next=13,r.close();case 13:return e.next=15,o.close();case 15:console.log("Saved");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getFileHandle("sus_cookies.txt",{create:!0});case 2:return n=e.sent,e.next=5,t.getFileHandle("sus_ls.txt",{create:!0});case 5:return r=e.sent,e.abrupt("return",{rawCookie:n,rawLs:r});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=n(184);function f(e){var t=e.type,n=e.children;return(0,x.jsx)("div",{onClick:function(){return"save"==t?function(){return i.apply(this,arguments)}():"load"==t?function(){return l.apply(this,arguments)}():void 0},className:"optionchoose",children:n})}var h=function(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"optiontitle",children:(0,x.jsx)(r.ZP,{children:"App"})}),(0,x.jsx)("div",{className:"chooseoption",children:(0,x.jsx)("div",{onClick:function(){alert("__sussy$pwaAppPrompt")},className:"optionchoose chooseactive",children:"Install"})}),(0,x.jsx)("div",{className:"optiontitle",children:(0,x.jsx)(r.ZP,{children:"Backups"})}),(0,x.jsxs)("div",{className:"chooseoption",children:[(0,x.jsx)(f,{type:"load",children:"Load from File"}),(0,x.jsx)(f,{type:"save",children:"Manually save to file"})]}),(0,x.jsx)("div",{className:"optiontitle",children:(0,x.jsx)(r.ZP,{children:"Reset"})}),(0,x.jsxs)("div",{className:"chooseoption",children:[(0,x.jsx)("div",{onClick:function(){window.confirm("Are you sure you want to reset all settings?")&&(alert("__sussy$resetSettings"),window.location.reload())},className:"optionchoose",children:"Settings"}),(0,x.jsx)("div",{onClick:function(){window.confirm("Are you sure you want to reset EVERTHING? THIS CANNOT BE UNDONE!!!\n\n\n(includes all your saves as well)")&&alert("NO")},className:"optionchoose",children:"Everything"})]})]})}}}]);
//# sourceMappingURL=576.cc8cb1b8.chunk.js.map