{"version":3,"file":"static/js/411.a5c89b66.chunk.js","mappings":"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","sources":["pages/settings/tab.js","../node_modules/@mui/icons-material/Clear.js"],"sourcesContent":["import React from \"react\";\r\nimport Obfuscate from \"../../components/obfuscate.js\";\r\nimport ClearIcon from \"@mui/icons-material/Clear\";\r\nimport BareClient from \"@tomphttp/bare-client\";\r\nimport { useLocalIcon, useLocalTitle } from \"../../settings.js\";\r\nimport { bareServerURL } from \"../../consts.js\";\r\n\r\nfunction Tab() {\r\n  const bare = React.useMemo(() => new BareClient(bareServerURL), []);\r\n\r\n  var url = React.useRef();\r\n  var [localTitle, setLocalTitle] = useLocalTitle();\r\n  var [localIcon, setLocalIcon] = useLocalIcon();\r\n\r\n  function tabReset() {\r\n    document.title = \"Settings | sussy\";\r\n    url.current.value = \"\";\r\n    setLocalTitle(null);\r\n    setLocalIcon(null);\r\n  }\r\n\r\n  async function setTab(url) {\r\n    if (url == null || url === \"\") {\r\n      return tabReset();\r\n    }\r\n    var title = url;\r\n    var favicon = \"\";\r\n    var site = await bare.fetch(url);\r\n    var code = await site.text();\r\n    var parser = new DOMParser();\r\n    var doc = parser.parseFromString(code, \"text/html\");\r\n    if (doc.getElementsByTagName(\"title\")[0]) {\r\n      title = doc.getElementsByTagName(\"title\")[0].innerText;\r\n    }\r\n    const iconElement = doc.querySelector(\r\n      \"link[rel='shortcut icon'],link[rel*='icon']\"\r\n    );\r\n    if (iconElement) {\r\n      favicon = iconElement.href;\r\n    }\r\n    setLocalTitle(title);\r\n    setLocalIcon(favicon);\r\n    url.current.value = \"\";\r\n  }\r\n\r\n  function ChangeIcon({ title, icon }) {\r\n    return (\r\n      <div\r\n        onClick={() => {\r\n          setLocalTitle(title);\r\n          setLocalIcon(icon);\r\n        }}\r\n        className=\"optionchoosecircle\"\r\n      >\r\n        <img style={{ pointerEvents: \"none\" }} src={icon} alt={title} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"optiontitle\">\r\n        <Obfuscate>Presets</Obfuscate>\r\n      </div>\r\n      <div className=\"chooseoption\">\r\n        <div className=\"optionchoosecircle\" onClick={tabReset}>\r\n          <ClearIcon style={{ pointerEvents: \"none\" }} fontSize=\"medium\" />\r\n        </div>\r\n        <ChangeIcon icon=\"https://www.google.com/favicon.ico\" title=\"Google\" />\r\n        <ChangeIcon\r\n          icon=\"https://www.drive.google.com/favicon.ico\"\r\n          title=\"Google Drive\"\r\n        />\r\n        <ChangeIcon\r\n          icon=\"https://edpuzzle.imgix.net/favicons/favicon-32.png\"\r\n          title=\"EdPuzzle\"\r\n        />\r\n        <ChangeIcon icon=\"https://st1.zoom.us/zoom.ico\" title=\"Zoom\" />\r\n        <ChangeIcon\r\n          icon=\"https://www.khanacademy.org/favicon.ico\"\r\n          title=\"Khan Academy\"\r\n        />\r\n      </div>\r\n      <div className=\"optiontitle\">\r\n        <Obfuscate>By URL</Obfuscate>\r\n      </div>\r\n      <input\r\n        autoComplete=\"off\"\r\n        placeholder=\"Enter a URL\"\r\n        className=\"optionchooseinput\"\r\n        ref={url}\r\n        onChange={(e) => setTab(url.current.value)}\r\n      />\r\n      <div className=\"optiontitle\">\r\n        <Obfuscate>Advanced</Obfuscate>\r\n      </div>\r\n      <input\r\n        autoComplete=\"off\"\r\n        placeholder=\"Enter a title\"\r\n        className=\"optionchooseinput\"\r\n        onKeyUp={(e) => setLocalTitle(e.target.value)}\r\n        value={localTitle}\r\n        onChange={(e) => setLocalTitle(e.target.value)}\r\n      />\r\n      <input\r\n        autoComplete=\"off\"\r\n        placeholder=\"Enter an icon URL\"\r\n        className=\"optionchooseinput\"\r\n        onKeyUp={(e) => setLocalIcon(e.target.value)}\r\n        value={localIcon}\r\n        onChange={(e) => setLocalIcon(e.target.value)}\r\n      />\r\n      <div className=\"optiontitle\">\r\n        <Obfuscate>about:blank cloak</Obfuscate>\r\n      </div>\r\n      <div className=\"chooseoption\">\r\n        <div\r\n          onClick={() => {\r\n            /*\r\n            The about:blank script is based off of ABC by\r\n              _____             _   _      _                      _    \r\n             |  ___|__   __ _  | \\ | | ___| |___      _____  _ __| | __\r\n             | |_ / _ \\ / _` | |  \\| |/ _ \\ __\\ \\ /\\ / / _ \\| '__| |/ /\r\n             |  _| (_) | (_| | | |\\  |  __/ |_ \\ V  V / (_) | |  |   < \r\n             |_|  \\___/ \\__, | |_| \\_|\\___|\\__| \\_/\\_/ \\___/|_|  |_|\\_\\  \r\n            */\r\n          try {\r\n            var page = window.open();\r\n            page.document.body.innerHTML = `<iframe style=\"height:100%; width: 100%; border: none; position: fixed; top: 0; right: 0; left: 0; bottom: 0; border: none\" sandbox=\"allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts allow-top-navigation allow-top-navigation-by-user-activation\" src=\"` + window.location.href + `\"></iframe>`;\r\n            window.location.replace('https://google.com');\r\n          } catch {}\r\n          }}\r\n          className=\"optionchoose chooseactive\">Go about:blank\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Tab;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\nexports.default = _default;"],"names":["bare","React","BareClient","bareServerURL","url","useLocalTitle","localTitle","setLocalTitle","useLocalIcon","localIcon","setLocalIcon","tabReset","document","title","current","value","favicon","fetch","site","text","code","parser","DOMParser","doc","parseFromString","getElementsByTagName","innerText","iconElement","querySelector","href","ChangeIcon","icon","onClick","className","style","pointerEvents","src","alt","fontSize","autoComplete","placeholder","ref","onChange","e","setTab","onKeyUp","target","window","open","body","innerHTML","location","replace","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}