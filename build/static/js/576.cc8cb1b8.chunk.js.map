{"version":3,"file":"static/js/576.cc8cb1b8.chunk.js","mappings":"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","sources":["fileStore.js","pages/settings/app.js"],"sourcesContent":["/* global showDirectoryPicker */\r\nexport async function createFsStore() {\r\n    if(!window.showDirectoryPicker) return;\r\n    var dir = await window.showDirectoryPicker({ mode: \"readwrite\", startIn: \"documents\" });\r\n    var { rawCookie, rawLs } = await createFSfileHandles(dir);\r\n    var fileCookie = await rawCookie.getFile();\r\n    var fileLs = await rawLs.getFile();\r\n    window.stores = {\r\n        cookie: JSON.parse(await fileCookie.text() || \"{}\"),\r\n        ls: JSON.parse(await fileLs.text() || \"{}\")\r\n    }\r\n    window.addEventListener('storage', async (e) => {\r\n        stores.ls = localStorage;\r\n        stores.cookie = parseCookie();\r\n        await save(rawCookie, rawLs);\r\n    });\r\n    setInterval(async () => {\r\n        await save(rawCookie, rawLs);\r\n    }, interval);\r\n    window.addEventListener('beforeunload', async (event) => {\r\n        await save(rawCookie, rawLs);\r\n        event.preventDefault();\r\n        return e.returnValue = \"Are you sure you want to leave? Changes might not be saved (saving now)\"\r\n    })\r\n}\r\n\r\nfunction parseCookie() {\r\n    return { data: document.cookie };\r\n}\r\n\r\nfunction writeStoreData() {\r\n    window.stores.ls = window.localStorage;\r\n    window.stores.cookie = parseCookie();\r\n}\r\n\r\nexport async function manualSave() {\r\n    if(window.stores) {\r\n        writeStoreData();\r\n        await save(rawCookie, rawLs);\r\n    } else {\r\n        var dir = await window.showDirectoryPicker({ mode: \"readwrite\", startIn: \"documents\" });\r\n        var { rawCookie, rawLs } = await createFSfileHandles(dir);\r\n        var fileCookie = await rawCookie.getFile();\r\n        var fileLs = await rawLs.getFile();\r\n\r\n        window.stores = {\r\n            cookie: JSON.parse(await fileCookie.text() || \"{}\"),\r\n            ls: JSON.parse(await fileLs.text() || \"{}\")\r\n        };\r\n\r\n        writeStoreData()\r\n        await save(rawCookie, rawLs);\r\n        delete window.stores;\r\n    }\r\n}\r\n\r\nexport async function restore() {\r\n    if(!window.showDirectoryPicker) return;\r\n    var dir = await window.showDirectoryPicker({ mode: \"readwrite\", startIn: \"documents\" });\r\n    var { rawCookie, rawLs } = await createFSfileHandles(dir);\r\n    var fileCookie = await rawCookie.getFile();\r\n    var fileLs = await rawLs.getFile();\r\n    window.stores = {\r\n        cookie: JSON.parse(await fileCookie.text() || \"{}\"),\r\n        ls: JSON.parse(await fileLs.text() || \"{}\")\r\n    };\r\n\r\n\r\n\r\n    for(const key in Object.keys(stores.ls)) {\r\n        const value = stores.ls[key];\r\n        console.log(key)\r\n        console.log(value);\r\n        // localStorage.setItem(key, value);\r\n    };\r\n    for(const key in Object.keys(stores.cookie)) {\r\n        // const value = stores.cookie[key];\r\n    };\r\n}\r\nasync function save(c, l) {\r\n    console.log('Saving...')\r\n    // Create\r\n    var writec = await c.createWritable();\r\n    var writel = await l.createWritable();\r\n    // Write\r\n    await writec.write(JSON.stringify(window.stores.cookie));\r\n    await writel.write(JSON.stringify(window.stores.ls));\r\n    // Close\r\n    await writec.close();\r\n    await writel.close();\r\n    console.log('Saved');\r\n}\r\n\r\nasync function createFSfileHandles(dir) {\r\n    var rawCookie = await dir.getFileHandle('sus_cookies.txt', { create: true });\r\n    var rawLs = await dir.getFileHandle('sus_ls.txt', { create: true });\r\n    return { rawCookie, rawLs };\r\n}","import React from \"react\";\r\nimport Obfuscate from \"../../components/obfuscate.js\";\r\nimport { manualSave, restore } from '../../fileStore.js';\r\n\r\n\r\nfunction doJunk(type) {\r\n  window.alert(type)\r\n}\r\nfunction BackupButton({ type, children }) {\r\n  return (\r\n    <div\r\n    onClick={() => {\r\n      if(type == \"save\") return manualSave();\r\n      if(type == \"load\") return restore();\r\n    }}\r\n    className=\"optionchoose\"\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <div className=\"optiontitle\">\r\n        <Obfuscate>App</Obfuscate>\r\n      </div>\r\n      <div className=\"chooseoption\">\r\n        <div\r\n          onClick={() => {\r\n            alert('__sussy$pwaAppPrompt')\r\n          }}\r\n          className=\"optionchoose chooseactive\">Install\r\n        </div>\r\n      </div>\r\n      <div className=\"optiontitle\">\r\n        <Obfuscate>Backups</Obfuscate>\r\n      </div>\r\n      <div className=\"chooseoption\">\r\n        <BackupButton type=\"load\">Load from File</BackupButton>\r\n        <BackupButton type=\"save\">Manually save to file</BackupButton>\r\n      </div>\r\n      <div className=\"optiontitle\">\r\n        <Obfuscate>Reset</Obfuscate>\r\n      </div>\r\n      <div className=\"chooseoption\">\r\n        <div\r\n          onClick={() => {\r\n            if(window.confirm('Are you sure you want to reset all settings?')) {\r\n              alert('__sussy$resetSettings')\r\n              window.location.reload()\r\n            }\r\n          }}\r\n          className=\"optionchoose\">Settings\r\n        </div>\r\n        <div\r\n          onClick={() => {\r\n            if(window.confirm('Are you sure you want to reset EVERTHING? THIS CANNOT BE UNDONE!!!\\n\\n\\n(includes all your saves as well)')) {\r\n              alert('NO')\r\n            }\r\n          }}\r\n          className=\"optionchoose\">Everything\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;"],"names":["parseCookie","data","document","cookie","writeStoreData","window","stores","ls","localStorage","save","rawCookie","rawLs","showDirectoryPicker","mode","startIn","dir","createFSfileHandles","getFile","fileCookie","fileLs","JSON","text","parse","key","Object","keys","value","console","log","c","l","createWritable","writec","writel","write","stringify","close","getFileHandle","create","BackupButton","type","children","onClick","manualSave","restore","className","alert","confirm","location","reload"],"sourceRoot":""}